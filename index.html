
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Smith & Friends Café Coffee Menu Recipe</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 2rem;
            background: #f8f1ea;
            color: #2c1b13;
        }
        h1 {
            text-align: center;
            color: #5a3e36;
        }
        input {
            width: 100%;
            padding: 10px;
            font-size: 1.2rem;
            margin-bottom: 2rem;
            border-radius: 6px;
            border: 1px solid #ccc;
        }
        .menu {
            margin-bottom: 2rem;
            background: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 0 5px rgba(0,0,0,0.05);
        }
        .menu h2 {
            margin-top: 0;
        }
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 0.5rem;
            text-align: center;
        }
        th {
            background-color: #f0e6dc;
        }
    </style>
</head>
<body>
    <h1>Smith & Friends Café Coffee Menu Recipe</h1>
    <input type="text" id="search" placeholder="Type the menu name, such as LATTE...">
    <div id="results"></div>

    <script>
        const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRDOg36_p2k6gvu-wVEQkNqSQW9h5afbREPSjyIge_nHwipZC2BHJVZGQZvs8MnIBfBORcFjc3VToNM/pub?gid=0&single=true&output=tsv";

        fetch(sheetURL)
            .then(res => res.text())
            .then(text => {
                const rows = text.trim().split("\n").map(row => row.split("\t"));
                const headers = rows[0];
                const data = rows.slice(1);

                const groupData = {};
                for (const row of data) {
                    const menuName = row[0].toLowerCase();
                    if (!groupData[menuName]) groupData[menuName] = [];
                    groupData[menuName].push(row);
                }

                const input = document.getElementById("search");
                input.addEventListener("input", () => {
                    const keyword = input.value.toLowerCase();
                    const result = groupData[keyword];
                    const container = document.getElementById("results");
                    container.innerHTML = "";

                    if (result) {
                        const section = document.createElement("div");
                        section.className = "menu";
                        const title = document.createElement("h2");
                        title.textContent = result[0][0];
                        section.appendChild(title);

                        const table = document.createElement("table");
                        const thead = document.createElement("thead");
                        const headRow = document.createElement("tr");
                        headers.slice(1).forEach(h => {
                            const th = document.createElement("th");
                            th.textContent = h;
                            headRow.appendChild(th);
                        });
                        thead.appendChild(headRow);
                        table.appendChild(thead);

                        const tbody = document.createElement("tbody");
                        result.forEach(row => {
                            const tr = document.createElement("tr");
                            row.slice(1).forEach(cell => {
                                const td = document.createElement("td");
                                td.textContent = cell;
                                tr.appendChild(td);
                            });
                            tbody.appendChild(tr);
                        });
                        table.appendChild(tbody);

                        section.appendChild(table);
                        container.appendChild(section);
                    }
                });
            });
    </script>
</body>
</html>
